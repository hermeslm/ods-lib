!function(){var e=angular.module("nzToggle",[]);e.directive("nzToggle",["$timeout",function(e){return{restrict:"E",replace:!0,scope:{config:"=?",ngModel:"=",onToggle:"&",ngDisabled:"="},template:['<div class="nz-toggle-wrap" ng-class="getStyle()" ng-style="wrapStyle">','   <div class="nz-toggle">','       <div class="nz-toggle-handle"></div>',"   </div>",'   <div class="nz-toggle-tooltip" ng-show="tooltip">',"       <span ng-class=\"{'active': showTooltip1}\">",'           <span ng-show="tipFalse"></span>{{tipFalse}}',"       </span>",'       <br ng-show="vertical">','       <span ng-class="{\'active\': showTooltip2}" ng-show="triToggle">','           <span ng-show="tipNull"></span>{{tipNull}}',"       </span>",'       <br ng-show="vertical">',"       <span ng-class=\"{'active': showTooltip3}\">",'           <span ng-show="tipTrue"></span>{{tipTrue}}',"       </span>","   </div>","</div>"].join(""),link:function(o,t,l){function a(){u(),y(D.ngModel)||(y(D.valDefault)?D.ngModel=D.valDefault:D.triToggle?D.ngModel=D.valNull:D.ngModel=D.valFalse);var e=!0;D.$watch("ngModel",function(){if(c(),e)return void(e=!1);if(D.onToggle.call){var o=D.onToggle();o&&o.call&&o(D.ngModel)}},!0),v(t[0],"mousedown touchstart",i),v(t[0],"click",n),D.$on("$destroy",function(){p(t[0],"mousedown touchstart",i),p(window,"mousemove touchmove",r),p(window,"mouseup touchend",s),p(t[0],"click",n)})}function n(e){1>T&&d()}function i(e){return D.ngDisabled?void 0:(e=e?e:window.event,h={x:e.pageX||e.touches[0].pageX,y:e.pageY||e.touches[0].pageY},T=0,M.css("transition","0s"),v(window,"mousemove touchmove",r),v(window,"mouseup touchend",s),e.stopPropagation(),e.returnValue=!1,!1)}function r(e){e=e?e:window.event;var o=(e.pageY||e.touches[0].pageY)-h.y,l=(e.pageX||e.touches[0].pageX)-h.x,a=t[0].offsetHeight,n=t[0].offsetWidth,i=o/(a/2)*100,r=l/(n/2)*100;return D.vertical?(f=parseFloat(F.vertical[D.state]),w=Math.max(Math.min(parseFloat(i+f),100),0),m=f+(w-f)/2,M.css("top",m+"%")):(f=parseFloat(F.horizontal[D.state]),w=Math.max(Math.min(parseFloat(r+f),100),0),m=f+(w-f)/2,M.css("left",m+"%")),T=Math.max(T,Math.max(Math.abs(o),Math.abs(l))),e.stopPropagation(),e.returnValue=!1,!1}function s(e){return e=e?e:window.event,h=!1,D.$apply(function(){return 1>T&&"mouseup"==e.type?void 0:1>T&&"touchend"==e.type?void d():D.triToggle?D.vertical?w>73?void d("false"):w>27?void d("null"):void d("true"):27>w?void d("false"):73>w?void d("null"):void d("true"):D.vertical?w>50?void d("false"):void d("true"):50>w?void d("false"):void d("true")}),M.css({top:"",left:"",transition:""}),p(window,"mousemove touchmove",r),p(window,"mouseup touchend",s),e.stopPropagation(),e.returnValue=!1,!1}function u(){if(angular.extend(D,N,D.config||{}),y(l.triToggle)&&(D.triToggle=!0),angular.forEach(["valDefault","valTrue","valFalse","valNull","width","height","colorFalse","colorNull","colorTrue"],function(e){y(l[e])&&(D[e]=D.$eval(l[e]))}),angular.forEach(["tipTrue","tipFalse","tipNull"],function(e){y(l[e])&&D.$watch(l[e],function(o){D[e]=o})}),(D.tipTrue||l.tipFalse||l.tipNull)&&(D.tooltip=!0),y(l.vertical)){D.vertical=!0;var e;D.tooltip&&(e=D.tipTrue,D.tipTrue=D.tipFalse,D.tipFalse=e),D.$eval(l.width)||D.$eval(l.width)||D.config&&(D.config.width||D.config.height)||(e=D.width,D.width=D.height,D.height=e)}D.wrapStyle={width:D.width+"px",height:D.height+"px"},y(D.outerRadius)||(D.outerRadius=Math.min(D.width,D.height)/2),D.innerRadius=D.outerRadius-D.padding}function g(){return[D.vertical?"vertical":"horizontal",D.state]}function c(){return D.showTooltip1=!1,D.showTooltip2=!1,D.showTooltip3=!1,angular.equals(D.ngModel,D.valTrue)?(D.wrapStyle.backgroundColor=D.colorTrue,D.state="true",void(D.vertical?D.showTooltip1=!0:D.showTooltip3=!0)):angular.equals(D.ngModel,D.valFalse)?(D.state="false",D.wrapStyle.backgroundColor=D.colorFalse,void(D.vertical?D.showTooltip3=!0:D.showTooltip1=!0)):(D.state="null",D.wrapStyle.backgroundColor=D.colorNull,void(D.showTooltip2=!0))}function d(o){D.ngDisabled||e(function(){if(o){if(D.state=o,"false"===o)return void(D.ngModel=D.valFalse);if("null"===o)return void(D.ngModel=D.valNull);D.ngModel=D.valTrue}else{if("false"==D.state)return void(D.ngModel=D.triToggle?D.valNull:D.valTrue);if("null"==D.state)return void(D.ngModel=D.valTrue);D.ngModel=D.valFalse}})}function v(e,o,t){for(var l=o.split(" "),a=0,n=l.length;n>a;a++)e.addEventListener(l[a],t,!1)}function p(e,o,t){for(var l=o.split(" "),a=0,n=l.length;n>a;a++)e.removeEventListener(l[a],t,!1)}var h,f,w,T,m,M=angular.element(t[0].querySelector(".nz-toggle-handle")),F={horizontal:{"false":0,"null":50,"true":100},vertical:{"false":100,"null":50,"true":0}},y=angular.isDefined,N=(angular.copy,{vertical:!1,valTrue:!0,valFalse:!1,valNull:null,width:50,height:25,padding:3,colorTrue:"#60BD68",colorFalse:"#F15854",colorNull:"#DDD",tooltip:!1}),D=o;angular.extend(D,{getStyle:g,toggle:d}),a()}}}])}();